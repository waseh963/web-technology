<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Responsive Quiz App</title>
  <style>
    /* Base layout */
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#06b6d4;
      --muted:#9aa4b2;
      --success:#10b981;
      --danger:#ef4444;
      --glass: rgba(255,255,255,0.03);
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071027 0%, #071b2a 100%);color:#e6eef6}
    .app {
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      box-sizing:border-box;
    }

    /* Card */
    .card {
      width:100%;
      max-width:900px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:16px;
      padding:28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      display:flex;
      gap:24px;
      box-sizing:border-box;
      flex-direction:row;
    }

    /* Left side (info) and right (content) - responsive */
    .side {
      flex:1 1 300px;
      display:flex;
      flex-direction:column;
      gap:12px;
      align-items:flex-start;
      justify-content:center;
    }
    .main {
      flex:2 1 420px;
      display:flex;
      flex-direction:column;
      gap:12px;
      justify-content:center;
    }

    h1{margin:0;font-size:1.6rem}
    p.lead{margin:6px 0 0;color:var(--muted)}

    /* Buttons */
    .btn {
      background:var(--accent);
      color:#042028;
      border:none;
      padding:10px 16px;
      border-radius:10px;
      font-weight:600;
      cursor:pointer;
      transition:transform .12s ease;
    }
    .btn:active{transform:translateY(1px)}
    .btn.secondary {
      background:transparent;
      color:var(--accent);
      border:1px solid rgba(6,182,212,0.12);
      font-weight:600;
    }

    /* Screens */
    .screen{display:none}
    .screen.active{display:block}

    /* Question area */
    .question {
      background:var(--glass);
      border-radius:12px;
      padding:18px;
      display:flex;
      flex-direction:column;
      gap:14px;
    }
    .q-header {display:flex;justify-content:space-between;align-items:center}
    .q-index{font-size:.9rem;color:var(--muted)}
    .q-text{font-size:1.1rem;font-weight:600}

    .choices{display:flex;flex-direction:column;gap:10px}
    .choice {
      background:transparent;
      border:1px solid rgba(255,255,255,0.06);
      padding:12px;
      border-radius:10px;
      cursor:pointer;
      text-align:left;
      transition:all .12s ease;
      font-weight:600;
    }
    .choice:hover{transform:translateY(-3px)}
    .choice.correct{
      border-color: rgba(16,185,129,0.25);
      background: rgba(16,185,129,0.06);
      box-shadow:0 6px 18px rgba(16,185,129,0.06);
    }
    .choice.wrong{
      border-color: rgba(239,68,68,0.2);
      background: rgba(239,68,68,0.04);
      box-shadow:0 6px 18px rgba(239,68,68,0.03);
    }

    .meta {display:flex;gap:10px;align-items:center;color:var(--muted);font-size:.9rem}
    .controls {display:flex;gap:8px;justify-content:flex-end;align-items:center}

    /* result */
    .result-card{
      padding:18px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    }
    .big-score{font-size:2.6rem;font-weight:800}
    .message{font-size:1.05rem;margin-top:6px}

    /* small screens */
    @media (max-width:800px){
      .card{flex-direction:column;padding:18px}
      .side{order:2}
      .main{order:1}
      h1{font-size:1.4rem}
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="card" role="application" aria-label="Quiz app">
      <!-- Left side (info / branding) -->
      <div class="side">
        <h1>Quiz Time — Web Technologies</h1>
        <p class="lead">Practice your knowledge: HTML, CSS, JavaScript. Responsive + interactive — no page reloads.</p>
        <div style="height:12px"></div>
        <div style="display:flex;gap:10px;flex-wrap:wrap">
          <div class="meta">Questions: <strong id="meta-total">—</strong></div>
          <div class="meta">Score: <strong id="meta-score">0</strong></div>
          <div class="meta" id="meta-progress">Progress: 0/0</div>
        </div>
        <div style="flex:1"></div>
        <div style="display:flex;gap:8px">
          <button class="btn" id="btn-home-start">Start Quiz</button>
          <button class="btn secondary" id="btn-restart" style="display:none">Restart</button>
        </div>
      </div>

      <!-- Main area -->
      <div class="main">
        <!-- Home screen -->
        <section id="screen-home" class="screen active" aria-hidden="false">
          <div class="question">
            <div class="q-header"><div class="q-index">Welcome</div></div>
            <div class="q-text">Ready to test your Web Technologies knowledge? Click Start to begin the quiz. Good luck!</div>
            <p style="margin:0;color:var(--muted)">This quiz runs without reloading the page. It uses Flexbox for layout and JavaScript for interactivity.</p>
          </div>
        </section>

        <!-- Quiz screen -->
        <section id="screen-quiz" class="screen" aria-hidden="true">
          <div class="question" id="question-card" role="group" aria-labelledby="q-text">
            <div class="q-header">
              <div class="q-index" id="q-counter">Question 1</div>
              <div class="meta" id="timer" style="display:none">Timer: <span id="timer-val">0</span>s</div>
            </div>
            <div class="q-text" id="q-text">Question text</div>

            <div class="choices" id="choices"></div>

            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="color:var(--muted);font-size:.9rem" id="feedback"></div>
              <div class="controls">
                <button class="btn secondary" id="btn-skip" title="Skip">Skip</button>
                <button class="btn" id="btn-next" style="display:none">Next</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Result screen -->
        <section id="screen-result" class="screen" aria-hidden="true">
          <div class="result-card">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div>
                <div class="big-score" id="final-score">0 / 5</div>
                <div class="message" id="final-msg">Message</div>
              </div>
              <div style="text-align:right">
                <div style="color:var(--muted)">Percentage</div>
                <div id="final-percent" style="font-weight:800;font-size:1.6rem">0%</div>
              </div>
            </div>
            <div style="margin-top:14px;display:flex;gap:8px;justify-content:flex-end">
              <a class="btn secondary" href="#" id="view-repo" target="_blank" rel="noopener">View Repo</a>
              <button class="btn" id="btn-finish">Finish</button>
            </div>
          </div>
        </section>

      </div>
    </div>
  </div>

  <script>
    // -------------------------------
    // QUESTIONS: stored as array of objects
    // each object: {type:"mcq"|"tf", question, choices:[...], answer: index or true/false}
    // -------------------------------
    const QUESTIONS = [
      { type:"mcq", question:"Which CSS layout model is used in this assignment for responsiveness?", choices:["Grid","Floats","Flexbox","Table layout"], answer:2 },
      { type:"tf", question:"JavaScript DOM events allow interactivity without page reloads.", answer:true },
      { type:"mcq", question:"Which HTML tag is used to include JavaScript?", choices:["<js>","<script>","<code>","<javascript>"], answer:1 },
      { type:"mcq", question:"What does 'responsive design' primarily address?", choices:["Server performance","Code comments","Different screen sizes","Database schemas"], answer:2 },
      { type:"tf", question:"GitHub Pages can host static sites directly from a repository.", answer:true },
      // Extra questions (optional)
      { type:"mcq", question:"Which method selects a DOM element by id in JS?", choices:["queryId()","getElementById()","select('#id')","findById()"], answer:1 }
    ];

    // App state
    let state = {
      currentIndex: 0,
      score: 0,
      total: QUESTIONS.length,
      answered: 0,
      liveRepoUrl: '' // set this if you want "View Repo" to point at your repo
    };

    // Cached DOM
    const screenHome = document.getElementById('screen-home');
    const screenQuiz = document.getElementById('screen-quiz');
    const screenResult = document.getElementById('screen-result');
    const btnHomeStart = document.getElementById('btn-home-start');
    const btnRestart = document.getElementById('btn-restart');
    const qCounter = document.getElementById('q-counter');
    const qText = document.getElementById('q-text');
    const choicesEl = document.getElementById('choices');
    const feedbackEl = document.getElementById('feedback');
    const metaTotal = document.getElementById('meta-total');
    const metaScore = document.getElementById('meta-score');
    const metaProgress = document.getElementById('meta-progress');
    const btnNext = document.getElementById('btn-next');
    const btnSkip = document.getElementById('btn-skip');
    const finalScore = document.getElementById('final-score');
    const finalMsg = document.getElementById('final-msg');
    const finalPercent = document.getElementById('final-percent');
    const viewRepo = document.getElementById('view-repo');
    const btnFinish = document.getElementById('btn-finish');

    // Initialize UI
    function init(){
      metaTotal.textContent = state.total;
      metaScore.textContent = state.score;
      metaProgress.textContent = `Progress: ${state.answered}/${state.total}`;
      // Optional: set viewRepo.href when you know your repo URL
      viewRepo.href = state.liveRepoUrl || '#';
      btnRestart.style.display = 'none';
      showScreen('home');
    }

    function showScreen(name){
      [screenHome, screenQuiz, screenResult].forEach(s => s.classList.remove('active'));
      if(name==='home'){ screenHome.classList.add('active'); screenHome.setAttribute('aria-hidden','false'); screenQuiz.setAttribute('aria-hidden','true'); screenResult.setAttribute('aria-hidden','true'); }
      if(name==='quiz'){ screenQuiz.classList.add('active'); screenQuiz.setAttribute('aria-hidden','false'); screenHome.setAttribute('aria-hidden','true'); }
      if(name==='result'){ screenResult.classList.add('active'); screenResult.setAttribute('aria-hidden','false'); screenHome.setAttribute('aria-hidden','true'); screenQuiz.setAttribute('aria-hidden','true'); }
    }

    // Start quiz
    btnHomeStart.addEventListener('click', () => {
      resetState();
      showScreen('quiz');
      loadQuestion();
    });

    btnRestart.addEventListener('click', () => {
      resetState();
      showScreen('quiz');
      loadQuestion();
    });

    // Finish button returns to home
    btnFinish.addEventListener('click', () => {
      showScreen('home');
      btnRestart.style.display = 'inline-block';
    });

    // Skip button - move to next without changing score
    btnSkip.addEventListener('click', () => {
      feedbackEl.textContent = 'Skipped';
      setTimeout(() => { nextQuestion(); }, 450);
    });

    // Next button used if user clicks it (also auto-advance happens)
    btnNext.addEventListener('click', () => nextQuestion());

    // Reset
    function resetState(){
      state.currentIndex = 0;
      state.score = 0;
      state.answered = 0;
      metaScore.textContent = 0;
      metaProgress.textContent = `Progress: 0/${state.total}`;
      feedbackEl.textContent = '';
      btnRestart.style.display = 'none';
    }

    // Load current question
    function loadQuestion(){
      const q = QUESTIONS[state.currentIndex];
      qCounter.textContent = `Question ${state.currentIndex + 1} / ${state.total}`;
      qText.textContent = q.question;
      choicesEl.innerHTML = '';
      feedbackEl.textContent = '';
      btnNext.style.display = 'none';

      if(q.type === 'tf'){
        const arr = [ {label:'True', value:true}, {label:'False', value:false} ];
        arr.forEach((c, idx) => {
          const btn = makeChoiceButton(c.label, idx);
          btn.dataset.value = c.value;
          choicesEl.appendChild(btn);
        });
      } else { // mcq
        q.choices.forEach((choiceText, idx) => {
          const btn = makeChoiceButton(choiceText, idx);
          btn.dataset.value = idx;
          choicesEl.appendChild(btn);
        });
      }
    }

    function makeChoiceButton(text, idx){
      const btn = document.createElement('button');
      btn.className = 'choice';
      btn.type = 'button';
      btn.innerText = text;
      btn.addEventListener('click', onAnswerClick);
      return btn;
    }

    function onAnswerClick(e){
      const clicked = e.currentTarget;
      // prevent double answering
      if(clicked.classList.contains('answered')) return;
      // Determine provided answer
      const raw = clicked.dataset.value;
      const q = QUESTIONS[state.currentIndex];
      let isCorrect = false;
      if(q.type === 'tf'){
        const user = (raw === 'true' || raw === true || raw === 'True');
        isCorrect = (user === q.answer);
      } else {
        const user = Number(raw);
        isCorrect = (user === q.answer);
      }

      // Visual feedback
      Array.from(choicesEl.children).forEach(ch => ch.classList.add('answered'));
      if(isCorrect){
        clicked.classList.add('correct');
        feedbackEl.textContent = 'Correct ✅';
        state.score++;
        metaScore.textContent = state.score;
      } else {
        clicked.classList.add('wrong');
        // reveal correct option
        revealCorrect();
        feedbackEl.textContent = 'Wrong ❌';
      }

      state.answered++;
      metaProgress.textContent = `Progress: ${state.answered}/${state.total}`;

      // show Next button (in case user prefers)
      btnNext.style.display = 'inline-block';

      // auto-move after a short delay (800ms)
      setTimeout(() => {
        nextQuestion();
      }, 800);
    }

    function revealCorrect(){
      const q = QUESTIONS[state.currentIndex];
      if(q.type === 'tf'){
        Array.from(choicesEl.children).forEach(ch => {
          const val = (ch.dataset.value === 'true');
          if(val === q.answer) ch.classList.add('correct');
        });
      } else {
        Array.from(choicesEl.children).forEach((ch, idx) => {
          if(idx === q.answer) ch.classList.add('correct');
        });
      }
    }

    function nextQuestion(){
      if(state.currentIndex < state.total - 1){
        state.currentIndex++;
        loadQuestion();
      } else {
        showResult();
      }
    }

    function showResult(){
      showScreen('result');
      finalScore.textContent = `${state.score} / ${state.total}`;
      const pct = Math.round((state.score / state.total) * 100);
      finalPercent.textContent = `${pct}%`;
      let msg = '';
      if(pct >= 80) msg = "Great Job! You're well prepared.";
      else if(pct >= 50) msg = "Good effort! A little more practice and you'll ace it.";
      else msg = "Try Again! Review the material and give it another shot.";
      finalMsg.textContent = msg;
      // make repo link visible if available
      if(state.liveRepoUrl) viewRepo.href = state.liveRepoUrl;
      btnRestart.style.display = 'inline-block';
    }

    // Initialize on page load
    init();

    // Accessibility: keyboard navigation for choices (Enter to select)
    document.addEventListener('keydown', (e) => {
      if(screenQuiz.classList.contains('active')){
        if(e.key === 'Enter'){
          const firstChoice = choicesEl.querySelector('.choice');
          if(firstChoice) firstChoice.click();
        }
      }
    });

    // OPTIONAL: if you want to set repo URL programmatically, set state.liveRepoUrl here
    // state.liveRepoUrl = 'https://yourusername.github.io/your-repo';
  </script>
</body>
</html>